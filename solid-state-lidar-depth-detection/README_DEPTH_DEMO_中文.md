# 深度相机演示程序 - 教学版本

本目录包含深度相机演示程序的多个教学版本，从基础到完整逐步递进。

## 版本说明

### 版本1: camera_detection.py - 相机检测和连接
**学习目标**: 了解如何检测相机设备并建立连接

**功能**:
- 检测网络中的深度相机设备
- 显示相机信息（序列号、IP地址、连接状态）
- 建立相机连接并启动数据流
- 断开相机连接

**教学重点**:
- SDK初始化
- 设备枚举
- 相机连接流程
- 基本的错误处理

### 版本2: depth_display.py - 直接显示depth图像
**学习目标**: 了解如何获取和显示深度图像

**功能**:
- 相机连接（基于版本1）
- 获取深度帧数据
- 将深度数据转换为可视化图像
- 使用OpenCV窗口实时显示深度图像
- 彩色深度图显示（使用伪彩色映射）

**教学重点**:
- 帧数据获取
- 深度数据处理
- 图像可视化
- 实时显示循环

### 版本3: gui_selector.py - GUI选择器
**学习目标**: 了解GUI界面设计和多模式显示

**功能**:
- 图形用户界面（Tkinter）
- 相机连接控制
- 多显示模式选择（Depth、RGB、IR）
- 实时图像显示
- 状态信息显示

**教学重点**:
- GUI应用程序结构
- 事件驱动编程
- 多线程处理（相机数据获取和UI更新）
- 用户界面设计

### 版本4: depth_demo_full.py - 完整版本
**学习目标**: 完整的深度相机应用程序开发

**功能**:
- 所有版本3的功能
- 3D点云显示（使用matplotlib）
- 截图保存功能
- 完整的状态管理
- 错误处理和资源清理

**教学重点**:
- 复杂的GUI设计
- 3D数据可视化
- 文件I/O操作
- 完整的应用程序架构

## 运行环境要求

### 依赖包
```bash
pip install opencv-python numpy pillow matplotlib
```

### 系统要求
- Linux (推荐Ubuntu/Armbian)
- 深度相机设备（通过网络连接）
- GUI环境（X11支持）

### SDK要求
- Scepter SDK已正确安装
- 库路径已配置（LD_LIBRARY_PATH）

## 使用方法

### 准备工作
1. 确保深度相机已连接到网络
2. 确保相机电源已开启
3. 运行前确保SDK路径正确

### 运行步骤
```bash
# 版本1：相机检测
python camera_detection.py

# 版本2：深度图像显示
python depth_display.py

# 版本3：GUI选择器
python gui_selector.py

# 版本4：完整版本
python depth_demo_full.py
```

## 代码结构说明

### 核心模块（位于ad-depth目录）
- `sdk_loader.py`: SDK加载和初始化
- `camera_manager.py`: 相机连接和管理
- `utils.py`: 工具函数（图像处理等）
- `frame_processor.py`: 帧数据处理

### 版本文件
- `camera_detection.py`: 版本1 - 基础相机连接
- `depth_display.py`: 版本2 - 深度图像显示
- `gui_selector.py`: 版本3 - GUI多模式选择
- `depth_demo_full.py`: 版本4 - 完整功能版本

## 学习路径建议

1. **从版本1开始**: 理解相机连接的基础概念
2. **版本2**: 学习图像数据处理和显示
3. **版本3**: 掌握GUI编程和多线程处理
4. **版本4**: 综合应用，学习完整应用程序开发

每个版本都包含详细的注释和错误处理，适合教学使用。

## 常见问题

### SDK加载失败
- 检查SDK路径是否正确
- 确认LD_LIBRARY_PATH设置
- 查看Python路径是否包含SDK目录

### 相机连接失败
- 检查相机网络连接
- 确认相机电源状态
- 查看防火墙设置

### GUI显示问题
- 确认X11环境可用
- 检查matplotlib后端设置
- 查看tkinter是否正确安装

### 3D点云不显示
- 确认matplotlib已安装
- 检查OpenGL支持
- 查看终端是否有GUI权限

## 技术要点

- **多线程编程**: 相机数据获取和UI更新分离
- **图像处理**: 深度数据转换为可视化图像
- **3D可视化**: matplotlib 3D散点图显示
- **网络通信**: 通过TCP/IP连接相机
- **GUI设计**: Tkinter事件驱动界面

## 扩展方向

- 添加更多图像处理算法
- 实现深度数据保存功能
- 添加相机参数调节界面
- 支持多相机同时显示
- 添加视频录制功能
